   <!DOCTYPE html>
<html>
<body>
<button onclick="fil(3)">click</button>
<script>    
 var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    var svgNS = svg.namespaceURI;
    svg.setAttribute("height",1000);
    svg.setAttribute("width",1000);
    var i;
    for(i=0;i<300;i++){
        var rect = document.createElementNS(svgNS,'rect');
        rect.setAttribute('x',300);
        rect.setAttribute('y',0.8*(1+i));
        rect.setAttribute('width',15);
        rect.setAttribute('height',0.8);
        rect.setAttribute('fill','hsl('+i+', 98%, 50%)');
        rect.setAttribute('onclick','fil('+i+')');
        svg.appendChild(rect);       
    }
    document.body.appendChild(svg);
   
   for(i=0;i<=100;i++){
        for(j=0;j<=100;j++){
        var rect = document.createElementNS(svgNS,'rect');
        rect.setAttribute('x',2.5*(i+1));
        rect.setAttribute('y',2.5*(1+j));
        rect.setAttribute('width',3);
        rect.setAttribute('height',3);
        rect.setAttribute('id','i'+i+'j'+j);
        rect.setAttribute('fill','hsl(30, '+i+'%, '+j+'%)');
        svg.appendChild(rect);        
        }     
    }
    document.body.appendChild(svg);
function fil(color){
    var i;
    for(i=0;i<=100;i++){
        for(j=0;j<=100;j++){
        var rect = document.getElementById('i'+i+'j'+j);
        rect.setAttribute('fill','hsl('+color+', '+i+'%, '+j+'%)');
        }     
    }

}
</script>

</body>
</html>